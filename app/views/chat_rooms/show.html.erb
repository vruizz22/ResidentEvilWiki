<div id="chat-room-container" data-chat-room-id="<%= @chat_room.id %>">
  <h2 class="title is-4">Chat de <%= @blog.titulo %></h2>

  <div id="messages-box" class="messages box" style="max-height: 400px; overflow-y: auto;">
    <% if @messages.any? %>
      <%= render @messages %>
    <% else %>
      <p class="has-text-grey">No hay mensajes aún. ¡Sé el primero!</p>
    <% end %>
  </div>

  <%= form_with url: blog_chat_room_messages_path(@blog),
                scope: :message,
                local: false,
                html: { id: "new_message_form", class: "mt-4" } do |f| %>
    <div class="field">
      <div class="control">
        <%= f.text_area :content, id: "message_content",
                        rows: 2,
                        placeholder: "Escribe tu mensaje…",
                        required: true,
                        class: "textarea" %>
      </div>
    </div>
    <div class="field">
      <div class="control">
        <%= f.submit "Enviar", class: "button is-primary" %>
      </div>
    </div>
  <% end %>
</div>
